From a730c331de14ef6c8246ccde3959cc528a75531e Mon Sep 17 00:00:00 2001
From: Pavel Raiskup <praiskup@redhat.com>
Date: Tue, 31 Jan 2023 09:33:17 +0100
Subject: [PATCH] mock: don't duplicate mkdirIfAbsent logic

---
 mock/py/mockbuild/package_manager.py | 5 +----
 1 file changed, 1 insertion(+), 4 deletions(-)

diff --git a/mock/py/mockbuild/package_manager.py b/mock/py/mockbuild/package_manager.py
index 060d2745..bc3974d1 100644
--- a/py/mockbuild/package_manager.py
+++ b/py/mockbuild/package_manager.py
@@ -316,11 +316,8 @@ def copy_certs(self):
             host_bundle = os.path.realpath('/etc/pki/tls/certs/ca-bundle.crt')
             chroot_bundle_path = self.buildroot.make_chroot_path(bundle_path)
             chroot_bundle_dir = os.path.dirname(chroot_bundle_path)
-            try:
-                os.makedirs(chroot_bundle_dir)
-            except FileExistsError:
-                pass  # for repeated attempts
 
+            file_util.mkdirIfAbsent(chroot_bundle_dir)
             try:
                 shutil.copy(host_bundle, chroot_bundle_path)
             except FileNotFoundError:
